<div class="navbar-container" id="sideNavbarContainer">
	<div class="px-4 py-3 employee-info d-inline-flex flex-center w-100">
		<div class="text-center">
			<div class="text-01" id="EMPLOYEE_NAME" style="color: #ffffff;"></div>
			<div class="text-02" id="EMPLOYEE_TYPE" style="color: #e9e9e9;font-size: 13px;"></div>
            <div class="text-01" id="CENTER_NAME" style="color: #e9e9e9;"></div>
		</div>
	</div>

    <div class="px-4 py-3 btn-close-holder d-none">
        <button class="btn-close-1" id="back_to_main_navmenu_button">
            &times;
        </button>
    </div>

	<div class="wrapper">

        <div class="navmenus-wrapper position-relative" id="navmenus_wrapper" style="z-index: 5;">

            <ul class="nb-navmenu" id="main_navmenu">
                <li class="list-dropdown-toggle" data-perm="statistics">
                    <a href="#" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/growth.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav27 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="fundbox_statistics">
                            <a href="../views/pages/centers/statistics/fundbox/index.ejs" data-name="all-fundbox-statistics" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav87 %></span>
                            </a>
                        </li>
                        <li data-perm="general_totals_statistics">
                            <a href="../views/pages/centers/statistics/general-totals/index.ejs" data-name="all-general-totals-statistics" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav88 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="patients">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/patients.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav01 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li class="d-none">
                            <a href="../views/pages/centers/patients/medical-data/create.ejs" data-name="create-patient-medical-data" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav75 %></span>
                            </a>
                        </li>
                        <li class="d-none">
                            <a href="../views/pages/centers/patients/medical-data/index.ejs" data-name="all-patient-medical-data" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav76 %></span>
                            </a>
                        </li>
                        <li class="d-none">
                            <a href="../views/pages/centers/patients/show.ejs" data-name="show-patient-profile" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav77 %></span>
                            </a>
                        </li>
                        <li data-perm="import_patients_data">
                            <a href="../views/pages/centers/patients/import.ejs" data-name="import-patients" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav11 %></span>
                            </a>
                        </li>
                        <li data-perm="create_patient">
                            <a href="../views/pages/centers/patients/create.ejs" data-name="create-patients" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav08 %></span>
                            </a>
                        </li>
                        <li data-perm="view_patients_has_appointments">
                            <a href="../views/pages/centers/patients/has-appointments.ejs" data-name="all-patients-has-appointments" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav87 %></span>
                            </a>
                        </li>
                        <li data-perm="view_patients_has_chronic_diseases">
                            <a href="../views/pages/centers/patients/has-chronic-diseases.ejs" data-name="all-patients-has-chronic-diseases" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav88 %></span>
                            </a>
                        </li>
                        <li data-perm="view_patients">
                            <a href="../views/pages/centers/patients/index.ejs" data-name="all-patients" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav07 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="prescriptions">
                    <a href="" class="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/prescription.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav02 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="create_prescription">
                            <a href="../views/pages/centers/prescriptions/create.ejs" data-name="create-prescriptions" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav06 %></span>
                            </a>
                        </li>
                        <li data-perm="view_prescriptions_not_in_orders">
                            <a href="../views/pages/centers/prescriptions/not-in-orders/index.ejs" data-name="view-prescriptions-not-in-orders" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav90 %></span>
                            </a>
                        </li>
                        <li data-perm="view_prescriptions_in_orders">
                            <a href="../views/pages/centers/prescriptions/in-orders/index.ejs" data-name="view-prescriptions-in-orders" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav89 %></span>
                            </a>
                        </li>
                        <li data-perm="view_prescriptions">
                            <a href="../views/pages/centers/prescriptions/index.ejs" data-name="all-prescriptions" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav09 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="patient_medical_analysis">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/lungs.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav125 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="create_patient_medical_analysis">
                            <a href="../views/pages/centers/patient-medical-analysis/create.ejs" data-name="create-patient-medical-analysis" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav2 %></span>
                            </a>
                        </li>
                        <li data-perm="view_patient_medical_analysis">
                            <a href="../views/pages/centers/patient-medical-analysis/index.ejs" data-name="all-patient-medical-analysis" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav1 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="departments">
                    <a href="#" class="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/class.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav15 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="select_center_departments">
                            <a href="../views/pages/centers/departments/select.ejs" data-name="select-center-departments" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav48 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="appointments">
                    <a href="#" class="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/timetable.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav18 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="create_private_appointment">
                            <a href="../views/pages/centers/appointments/private/create.ejs" data-name="create-private-appointments" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav19 %></span>
                            </a>
                        </li>
                        <li data-perm="create_followup_appointment">
                            <a href="../views/pages/centers/appointments/followup/create.ejs" data-name="create-followup-appointments" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav40 %></span>
                            </a>
                        </li>
                        <li data-perm="view_private_appointments">
                            <a href="../views/pages/centers/appointments/private/index.ejs" data-name="all-private-appointments" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav20 %></span>
                            </a>
                        </li>
                        <li data-perm="view_unapproved_private_appointments">
                            <a href="../views/pages/centers/appointments/private/waiting-approval/index.ejs" data-name="all-private-waiting-approval-appointments" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav57 %></span>
                            </a>
                        </li>
                        <!-- <li data-perm="view_unapproved_online_appointments">
                            <a href="../views/pages/centers/appointments/online/waiting-approval/index.ejs" data-name="all-online-waiting-approval-appointments" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav74 %></span>
                            </a>
                        </li> -->
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="messages">
                    <a href="" data-role="NAV_LINK" class="position-relative">
                        <span class="icon">
                            <img src="../assets/img/navbar/messages.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav11 %></span>
                        <span class="position-absolute translate-middle badge rounded-pill bg-info" id="MESSAGES_BADGE">
                            0
                        </span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="send_messages">
                            <a href="../views/pages/centers/messages/send.ejs" data-name="send-messages" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav12 %></span>
                            </a>
                        </li>
                        <li data-perm="send_hidden_messages">
                            <a href="../views/pages/centers/messages/hidden/send.ejs" data-name="send-hidden-messages" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav114 %></span>
                            </a>
                        </li>
                        <li data-perm="create_sms_templates">
                            <a href="../views/pages/centers/messages/templates/sms/create.ejs" data-name="create-sms-templates" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav135 %></span>
                            </a>
                        </li>
                        <li data-perm="messages_inbox">
                            <a href="../views/pages/centers/messages/inbox.ejs" data-name="messages-inbox" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav78 %></span>
                            </a>
                        </li>
                        <li data-perm="messages_sent">
                            <a href="../views/pages/centers/messages/sent.ejs" data-name="messages-sent" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav79 %></span>
                            </a>
                        </li>
                        <li data-perm="messages_private_inbox">
                            <a href="../views/pages/centers/messages/private/inbox.ejs" data-name="messages-private-inbox" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav80 %></span>
                            </a>
                        </li>
                        <li data-perm="messages_private_sent">
                            <a href="../views/pages/centers/messages/private/sent.ejs" data-name="messages-private-sent" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav81 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="inventory">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/medicines.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav21 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="view_center_products">
                            <a href="../views/pages/centers/inventory/products/index.ejs" data-name="all-inventory-products" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav50 %></span>
                            </a>
                        </li>
                        <li data-perm="view_center_consommables">
                            <a href="../views/pages/centers/inventory/consommables/index.ejs" data-name="all-inventory-consommables" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav51 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="invoices">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/invoice.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav139 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="create_center_to_client_selling_invoices">
                            <a href="../views/pages/centers/invoices/direction/products/center-to-client-selling/create.ejs" data-name="create-center-to-client-selling-invoices-for-products" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav42 %></span>
                            </a>
                        </li>
                        <li data-perm="view_central_administration_to_center_buying_invoices">
                            <a href="../views/pages/centers/invoices/direction/products/central-administration-to-center-buying/index.ejs" data-name="all-central-administration-to-center-selling-for-products" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav47 %></span>
                            </a>
                        </li>
                        <li data-perm="view_central_administration_to_center_consommables_buying_invoices">
                            <a href="../views/pages/centers/invoices/direction/consommables/central-administration-to-center-buying/index.ejs" data-name="all-central-administration-to-center-selling-for-consommables" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav48 %></span>
                            </a>
                        </li>
                        <li data-perm="view_center_to_client_selling_invoices">
                            <a href="../views/pages/centers/invoices/direction/products/center-to-client-selling/index.ejs" data-name="all-center-to-client-selling-invoices-for-products" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav43 %></span>
                            </a>
                        </li>
                        <li data-perm="view_center_to_external_client_selling_invoices">
                            <a href="../views/pages/centers/invoices/direction/products/center-to-client-selling/external/index.ejs" data-name="all-center-to-external-client-selling-invoices-for-products" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav44 %></span>
                            </a>
                        </li>
                        <li data-perm="create_client_to_center_return_invoices">
                            <a href="../views/pages/centers/invoices/direction/products/client-to-center-return/create.ejs" data-name="create-client-to-center-return-invoices-for-products" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav89 %></span>
                            </a>
                        </li>
                        <li data-perm="view_client_to_center_return_invoices">
                            <a href="../views/pages/centers/invoices/direction/products/client-to-center-return/index.ejs" data-name="all-client-to-center-return-invoices-for-products" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav90 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="depts">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/liability.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav142 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="view_center_depts">
                            <a href="../views/pages/centers/depts/self/index.ejs" data-name="all-center-depts" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav60 %></span>
                            </a>
                        </li>
                        <li data-perm="view_center_clients_depts">
                            <a href="../views/pages/centers/depts/clients/index.ejs" data-name="all-clients-depts" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav61 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="employees">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/employees.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav31 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="employees_attendance_for_centers">
                            <a href="../views/pages/centers/employees/attendance.ejs" data-name="employees-attendance-for-centers" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav34 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="certificates">
                    <a href="" data-role="NAV_LINK" class="position-relative">
                        <span class="icon">
                            <img src="../assets/img/navbar/certificate.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav120 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="create_patient_certificates">
                            <a href="../views/pages/centers/certificates/patients/create.ejs" data-name="create-patient-certificates" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav126 %></span>
                            </a>
                        </li>
                        <li data-perm="view_patient_certificates">
                            <a href="../views/pages/centers/certificates/patients/index.ejs" data-name="all-patient-certificates" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav128 %></span>
                            </a>
                        </li>
                        <li data-perm="create_employee_certificates">
                            <a href="../views/pages/centers/certificates/employees/create.ejs" data-name="create-employee-certificates" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav127 %></span>
                            </a>
                        </li>
                        <li data-perm="view_employee_certificates">
                            <a href="../views/pages/centers/certificates/employees/index.ejs" data-name="all-employee-certificates" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav129 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="daily_reports">
                    <a href="" data-role="NAV_LINK" class="position-relative">
                        <span class="icon">
                            <img src="../assets/img/navbar/report.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav118 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="create_daily_report">
                            <a href="../views/pages/centers/daily-reports/create.ejs" data-name="create-daily-reports" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav2 %></span>
                            </a>
                        </li>
                        <li data-perm="view_daily_reports">
                            <a href="../views/pages/centers/daily-reports/index.ejs" data-name="all-daily-reports" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav1 %></span>
                            </a>
                        </li>
                        <li data-perm="view_staff_daily_reports">
                            <a href="../views/pages/centers/daily-reports/staff/index.ejs" data-name="all-staff-daily-reports" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav3 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="fundboxes">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/fundboxes.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav137 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="view_fundbox">
                            <a href="../views/pages/centers/fundboxes/index.ejs" data-name="self-fundbox" data-role="NAV_LINK">
                                <span class="text no-pointer">
                                    <%= UI_DISPLAY_LANG.views.pages.global.navs.nav1 %> (<%= UI_DISPLAY_LANG.views.pages.global.attributes.center %>)
                                </span>
                            </a>
                        </li>
                        <li data-perm="transfer_funds_between_fundboxes_centers">
                            <a href="../views/pages/centers/fundboxes/funds/transfer.ejs" data-name="transfer-funds-between-fundboxes" data-role="NAV_LINK">
                                <span class="text no-pointer">
                                    <%= UI_DISPLAY_LANG.views.pages.global.navs.nav49 %> (<%= UI_DISPLAY_LANG.views.pages.global.attributes.center %>)
                                </span>
                            </a>
                        </li>
                        <li data-perm="add_or_subtract_funds_from_fundboxes_centers">
                            <a href="../views/pages/centers/fundboxes/funds/change.ejs" data-name="add-or-subtract-funds-from-fundboxes" data-role="NAV_LINK">
                                <span class="text no-pointer">
                                    <%= UI_DISPLAY_LANG.views.pages.global.navs.nav64 %> (<%= UI_DISPLAY_LANG.views.pages.global.attributes.center %>)
                                </span>
                            </a>
                        </li>
                        <li data-perm="view_fundbox_for_employees">
                            <a href="../views/pages/centers/fundboxes/employee/index.ejs" data-name="employee-fundbox" data-role="NAV_LINK">
                                <span class="text no-pointer">
                                    <%= UI_DISPLAY_LANG.views.pages.global.navs.nav65 %> (<%= UI_DISPLAY_LANG.views.pages.global.attributes.employee %>)
                                </span>
                            </a>
                        </li>
                        <li data-perm="transfer_funds_between_fundboxes_employees">
                            <a href="../views/pages/centers/fundboxes/employee/funds/transfer.ejs" data-name="transfer-funds-between-fundboxes-employees" data-role="NAV_LINK">
                                <span class="text no-pointer">
                                    <%= UI_DISPLAY_LANG.views.pages.global.navs.nav49 %> (<%= UI_DISPLAY_LANG.views.pages.global.attributes.employee %>)
                                </span>
                            </a>
                        </li>
                        <li data-perm="add_or_subtract_funds_from_fundboxes_employees">
                            <a href="../views/pages/centers/fundboxes/employee/funds/change.ejs" data-name="add-or-subtract-funds-from-fundboxes-employees" data-role="NAV_LINK">
                                <span class="text no-pointer">
                                    <%= UI_DISPLAY_LANG.views.pages.global.navs.nav64 %> (<%= UI_DISPLAY_LANG.views.pages.global.attributes.employee %>)
                                </span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="waiting_lists">
                    <a href="" data-role="NAV_LINK" class="position-relative">
                        <span class="icon">
                            <img src="../assets/img/navbar/planning.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav134 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="create_waiting_list">
                            <a href="../views/pages/centers/waiting-lists/create.ejs" data-name="create-waiting-lists" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav2 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="list-dropdown-toggle" data-perm="drivers">
                    <a href="" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/driver.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav145 %></span>
                    </a>
                    <ul class="dropdown-list nb-navmenu shadow-01">
                        <li data-perm="view_driver_jobs">
                            <a href="../views/pages/centers/drivers/jobs/index.ejs" data-name="all-driver-jobs" data-role="NAV_LINK">
                                <span class="text no-pointer"><%= UI_DISPLAY_LANG.views.pages.global.navs.nav70 %></span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li data-perm="educational_presentations">
                    <a href="../views/pages/centers/educational-presentations/create.ejs" data-name="create-educational-presentations" data-role="NAV_LINK">
                        <span class="icon">
                            <img src="../assets/img/navbar/presentation.png" alt="">
                        </span>
                        <span class="text"><%= UI_DISPLAY_LANG.views.partials.sidebar.nav148 %></span>
                    </a>
                </li>
            </ul>

        </div>

	</div>

    <div class="copyright position-absolute left-50 top-50 translate-center" style="z-index: 0;opacity: .3;">

        <div class="container position-relative has-direction-ltr" style="max-width: 239px;z-index: 5;margin-top: 2.5em;">

            <div class="row gx-0 gy-4 mb-3">
    
                <div class="col-2 logo-left">
                    <div class="d-flex is-align-items-center is-justify-content-center h-100">
                        <img src="../assets/img/logo/logo-white.png" class="img-fluid" alt="">
                    </div>
                </div>
                <div class="col logo-right">
                    <p class="copyright-title-1">مركز د.عون</p>
                    <p class="copyright-title-2">للعناية الجسدية</p>
                    <p class="copyright-title-3">Centre Dr.Aoun</p>
                    <p class="copyright-title-4">pour les soins Corporels</p>
                </div>
    
            </div>
    
        </div>

    </div>

    <div class="nm-jumper-button-previous d-none" id="navmenu_jumper_button_previous">
        <a href="#">
            <span><%= UI_DISPLAY_LANG.views.pages.global.previous_menu_button %></span>
            <span class="icon">
                <i class="fas fa-long-arrow-alt-left"></i>
            </span>
        </a>
    </div>

    <div class="nm-jumper-button-next d-none" id="navmenu_jumper_button_next">
        <a href="#">
            <span><%= UI_DISPLAY_LANG.views.pages.global.next_menu_button %></span>
            <span class="icon">
                <i class="fas fa-long-arrow-alt-left"></i>
            </span>
        </a>
    </div>

</div>

<script>

$(function()
{

var EMPLOYEE_NAME = SIDE_NAV_CONTAINER.find('#EMPLOYEE_NAME');
var EMPLOYEE_TYPE = SIDE_NAV_CONTAINER.find('#EMPLOYEE_TYPE');
var CENTER_NAME = SIDE_NAV_CONTAINER.find('#CENTER_NAME');

var navmenus_wrapper = SIDE_NAV_CONTAINER.find('#navmenus_wrapper')
var main_navmenu = navmenus_wrapper.find('#main_navmenu')
var back_to_main_navmenu_button = SIDE_NAV_CONTAINER.find('#back_to_main_navmenu_button')
var navmenu_jumper_button_previous = SIDE_NAV_CONTAINER.find('#navmenu_jumper_button_previous')
var navmenu_jumper_button_next = SIDE_NAV_CONTAINER.find('#navmenu_jumper_button_next')

const MAX_NAVMENU_ITEMS = 8

// ui setup finished event
$(document).on('user-interface-setup-has-finished', e =>
{
    displayEmployeeData()
    setupAppUpdates()
    splitNavMenu()
    setupGlobalNotificationsArea()
})
// Click on nav
SIDE_NAV_CONTAINER.on('click', e =>
{
    e.preventDefault();
    var target = $(e.target);
    if ( target.data('role') == 'NAV_LINK' )
    {
        var href = target.attr('href');

        if ( href.length == 0 || href == '#' )
            return;
        
        goToPage(target.data('name'), {})

        SIDE_NAV_CONTAINER.find('[data-role="NAV_LINK"]').removeClass('active')
        target.addClass('active')
        
        var parent = target.closest('.list-dropdown-toggle');
        if ( parent[0] != undefined )
        {
            if ( parent[0].nodeName == 'LI' )
            {
                $(parent.find('[data-role="NAV_LINK"]')[0]).addClass('active');
            }
        }
    }
    else if ( target.data('role') == 'LOGOUT_NAV_LINK' )
    {
        PromptConfirmDialog().then(c =>
        {
            deleteFile(USER_CONFIG_FILE, () =>
            {
                createWindow('WIN_LOGIN', {
                    page: 'index.ejs',
                    name: 'WIN_LOGIN'
                });
                // close current window
                closeWindow('WIN_'+USER_CONFIG.LOGIN_TYPE);
            });	
        });
    }
    else if ( target.data('role') == 'CHECK_FOR_UPDATES_NAV_LINK' )
    {
        // translate
        if ( FUI_DISPLAY_LANG.lang == 'ar' )
        {
            PromptConfirmDialog('تأكيد العمل', 'هل انت متأكد؟ سيبدأ التحميل مباشرة عند ايجاد اصدار جديد.').then(c =>
            {
                ipcIndexRenderer.send('check-for-updates', '');
            });
        }
        else if ( FUI_DISPLAY_LANG.lang == 'fr' )
        {
            PromptConfirmDialog("Confirmer l'action", "Êtes-vous sûr? Le téléchargement commencera immédiatement lorsqu'une nouvelle version sera trouvée.").then(c =>
            {
                ipcIndexRenderer.send('check-for-updates', '');
            });
        }
    }
    else
        return;
});

// display employee data
function displayEmployeeData()
{
    EMPLOYEE_NAME.text(USER_CONFIG.employee_name);
    CENTER_NAME.text(USER_CONFIG.administration.clinicName);
    if ( FUI_DISPLAY_LANG.lang == 'ar' )
        EMPLOYEE_TYPE.text(USER_CONFIG.type.employee_type_name_ar);
    else if ( FUI_DISPLAY_LANG.lang == 'fr' )
        EMPLOYEE_TYPE.text(USER_CONFIG.type.employee_type_name_fr);
}

// Setup app updates
function setupAppUpdates()
{
    var title = '';
    if ( FUI_DISPLAY_LANG.lang == 'ar' )
        title = 'تنزيل التحديثات...';
    else if ( FUI_DISPLAY_LANG.lang == 'fr' )
        title = 'Télécharger les mises à jour...';
    var options =
    {
        title: title,
        version: '',
        progress: {
            percent: 0,
        }
    };
    // remove listeners
    ipcIndexRenderer.removeAllListeners('update-about-to-download');
    ipcIndexRenderer.removeAllListeners('checking-for-update');
    ipcIndexRenderer.removeAllListeners('update-available');
    ipcIndexRenderer.removeAllListeners('update-not-available');
    ipcIndexRenderer.removeAllListeners('update-error');
    ipcIndexRenderer.removeAllListeners('update-downloaded');
    ipcIndexRenderer.removeAllListeners('download-update-progress');
    // check for updates only
    ipcIndexRenderer.send('check-for-updates', '');
    //
    ipcIndexRenderer.on('update-about-to-download', (e, info) =>
    {
        console.log(info);
    });
    ipcIndexRenderer.on('checking-for-update', (e, info) =>
    {
        // Translate
        if ( FUI_DISPLAY_LANG.lang == 'ar' )
        {
            // Display loader
            TopLoader('البحث عن تحديثات...');
        }
        else if ( FUI_DISPLAY_LANG.lang == 'fr' )
        {
            // Display loader
            TopLoader("Vérification des mises à jour...");
        }
    });
    ipcIndexRenderer.on('update-available', (e, info) =>
    {
        // Hide loader
        TopLoader('', false);
        options.version = 'v'+info.version;
        console.log(info);
        // translate
        if ( FUI_DISPLAY_LANG.lang == 'ar' )
        {
            CreateToast("اشعار", `تم العثور على اصدار جديد: ${options.version}`, 'الآن', 20000);
        }
        else if ( FUI_DISPLAY_LANG.lang == 'fr' )
        {
            CreateToast("Notification", `Nouvelle version trouvée: ${options.version}`, "à l'heure actuelle", 20000);
        }
    });
    ipcIndexRenderer.on('update-not-available', (e, info) =>
    {
        // Hide loader
        TopLoader('', false);
        console.log(info);
    });
    ipcIndexRenderer.on('update-error', (e, info) =>
    {
        // Hide loader
        TopLoader('', false);
        console.log(info);
    });
    ipcIndexRenderer.on('update-downloaded', (e, info) =>
    {
        // Translate
        if ( FUI_DISPLAY_LANG.lang == 'ar' )
        {
            PromptConfirmDialog('تأكيد', 'تم تنزيل التحديثات ، هل تريد التثبيت؟')
            .then(confirmed =>
            {
                ipcIndexRenderer.send('quit-and-install-update', info);
            });
        }
        else if ( FUI_DISPLAY_LANG.lang == 'fr' )
        {
            PromptConfirmDialog("Confirmer", "Mises à jour téléchargées, souhaitez-vous les installer ?")
            .then(confirmed =>
            {
                ipcIndexRenderer.send('quit-and-install-update', info);
            });
        }
        console.log(info);
    });
    ipcIndexRenderer.on('download-update-progress', (e, info) =>
    {
        // Display update dialog
        options.progress.percent = info.percent;
        //options.total = info.total;
        //options.transferred = info.transferred;
        //options.bytesPerSecond = info.bytesPerSecond;
        TopProgressBar(options);
    });
}
// split nav menu into separate menus

function splitNavMenu()
{
    var items = main_navmenu.children('li')
    var current_navmenu = 0
    
    // check total items and display menu jumper button
    if ( items.length >= MAX_NAVMENU_ITEMS )
    {
        back_to_main_navmenu_button.parent().removeClass('d-none')
        navmenu_jumper_button_next.removeClass('d-none')
    }
    else return

    // split into separate nav menus
    $(items[0]).closest('ul').html('')
    var navmenu = main_navmenu
    var menu_index = 0
    items.each((k,li) =>
    {
        var li = $(li)
        // append only if max items in nav menu not reached
        navmenu.append(li[0].outerHTML)
        
        if ( navmenu.children().length >= MAX_NAVMENU_ITEMS )
        {
            var id = `navmenu_${menu_index}`
            var navmenu_html = `<ul class="nb-navmenu d-none" id="${id}"></ul>`
            navmenus_wrapper.append(navmenu_html)
            navmenu = navmenus_wrapper.find('#'+id)
            menu_index++
        }
    })

    // put menu with visible  items first
    var ul_list = navmenus_wrapper.children('ul')
    var total_items = 0
    for (let i = 0; i < ul_list.length; i++) 
    {
        const ul = $(ul_list[i]);
        const html = ul[0].outerHTML
    
        if ( menuVisibleItemsCount(ul) > total_items )
        {
            $(html).removeClass('d-none')
            .insertBefore(ul.siblings().first())
            .siblings().addClass('d-none')
            ul.remove()
        }

        total_items = menuVisibleItemsCount(ul)
    }
    // select nav menus
    var navmenus = navmenus_wrapper.children('.nb-navmenu')
    // back to main nav menu
    back_to_main_navmenu_button.off('click').on('click', e =>
    {
        var navmenu = $(navmenus[0])
        navmenu.removeClass('d-none').siblings().addClass('d-none')
        navmenu_jumper_button_next.removeClass('d-none')
        current_navmenu = 0
    })
    // navigate to next menus
    navmenu_jumper_button_next.off('click').on('click', e =>
    {
        var navmenu = $(navmenus[current_navmenu])
        navmenu.addClass('d-none').next().removeClass('d-none')
        
        current_navmenu++
        // check if last menu reached
        if ( navmenus.length -1 == current_navmenu )
        {
            navmenu_jumper_button_next.addClass('d-none')
        }
        if ( current_navmenu > 0 )
            navmenu_jumper_button_previous.removeClass('d-none')
    })
    // navigate to previous menus
    navmenu_jumper_button_previous.off('click').on('click', e =>
    {
        var navmenu = $(navmenus[current_navmenu])
        navmenu.addClass('d-none').prev().removeClass('d-none')
        
        current_navmenu--
        // check if first menu reached
        if ( current_navmenu == 0 )
        {
            navmenu_jumper_button_previous.addClass('d-none')
            navmenu_jumper_button_next.removeClass('d-none')
        }
    })
}

// total visible menu items
function menuVisibleItemsCount(menu)
{
    var li_list = menu.children('li')
    var count = 0
    for (let i = 0; i < li_list.length; i++) 
    {
        const li = $(li_list[i]);
        if ( !li.hasClass('d-none') )
            count++
    }

    return count
}

// setup global notifications area
async function setupGlobalNotificationsArea()
{
    var html = await getPage('../views/templates/global-notifications-area.template.ejs')
    var buttonHTML = `<button class="gna-toggle-button" id="gna_toggle_button" data-target="#global_notifications_area">
                        <span class="gna-toggle-button-icon"><i class="fas fa-bell"></i></span>
                        <span class="gna-toggle-button-badge fw-300">0</span>
                    </button>`
    $('body').prepend(html)
    // append button
    TOP_NAV_BAR.find('.gna-button-toggler-wrapper').replaceWith($(buttonHTML))

    //
    var gna_toggle_button = $('#gna_toggle_button')

    var global_notifications_area = $('#global_notifications_area')
    var gna_header = global_notifications_area.find('#gna_header')
    var gna_header_close = global_notifications_area.find('#gna_header_close')
    var gna_header_title = global_notifications_area.find('#gna_header_title')
    var gna_header_search_button = global_notifications_area.find('#gna_header_search_button')
    var gna_search_box = global_notifications_area.find('#gna_search_box')
    var gna_search_back = global_notifications_area.find('#gna_search_back')
    var gna_search_input = global_notifications_area.find('#gna_search_input')
    var gna_notifications = global_notifications_area.find('#gna_notifications')

    gna_header_title.text( FUI_DISPLAY_LANG.views.pages.global.notifications )
    gna_search_input.attr('placeholder', FUI_DISPLAY_LANG.views.pages.global.placeholder5)
    // toggle bar
    gna_toggle_button.on('click', e =>
    {
        e.preventDefault()
        global_notifications_area.addClass('active')
        notifications_displayAll({
            method_type: 'receiver_search',
            receiver_id: USER_CONFIG.employee_id,
            receiver_type_code: 'employees',
            query: gna_search_input.val()
        })
    })
    // close
    gna_header_close.on('click', e =>
    {
        e.preventDefault()
        global_notifications_area.removeClass('active')
    })
    // toggle search box
    gna_header_search_button.on('click', e =>
    {
        e.preventDefault()
        gna_search_box.addClass('active ready')
        gna_header.removeClass('active')
    })
    // back to header
    gna_search_back.on('click', e =>
    {
        e.preventDefault()
        gna_search_box.removeClass('active ready')
        gna_header.addClass('active')
    })
    // gna_notifications
    gna_notifications.on('click', async e =>
    {
        var target = $(e.target)

        if ( target.data('role') == 'row' )
        {
            if ( target.data('is-read') == ST_YES ) return

            SectionLoader(target)
            var res = await NOTIFICATION_MODEL.setIsRead({
                id: target.data('id'),
                is_read: ST_YES,
            })
            SectionLoader(target, '')
            if ( res.code == 404 ) return
            target.addClass('is-read')
        }
    })
    // search for notifications
    gna_search_input.on('keyup', e =>
    {
        notifications_displayAll({
            method_type: 'receiver_search',
            receiver_id: USER_CONFIG.employee_id,
            receiver_type_code: 'employees',
            query: gna_search_input.val()
        })
    })
    // on new notifications found
    $(document).off('new-notifications-found').on('new-notifications-found', e =>
    {
        var detail = e.originalEvent.detail

        gna_toggle_button.find('.gna-toggle-button-badge').text( trimNumber(detail.data) )
        if ( detail.data > 0 )
            CreateToast('PS', FUI_DISPLAY_LANG.views.messages.you_have_new_notifications, '')
    })
    // display all notifications
    async function notifications_displayAll(params)
    {
        gna_notifications.html('')
        if ( params.method_type == 'receiver_search' )
            var res = await NOTIFICATION_MODEL.receiver_search(params)

        if ( res.code == 404 ) return

        var data = res.data
        var html = ''

        $.each(data, (k,v) =>
        {
            html += `<div class="gna-notification ${ (v.is_read == ST_YES) ? 'is-read' : '' }" data-role="row" data-id="${v.id}" data-is-read="${v.is_read}">
                        <div class="gna-notification-inner">
                            <span class="gna-notification-is-read ripple"></span>
                            <div class="gna-notification-avatar">
                                <img src="${ (v.sender_avatar) ? imgFallback(v.sender_avatar.url, '../assets/img/icons/man.png') : imgFallback('../assets/img/icons/man.png') }" class="w-100 h-100 img-thumbnail" alt="">
                            </div>
                            <div class="gna-notification-content">
                                <div class="mb-2 gna-notification-content-message">${v.message}</div>
                                <div class="gna-notification-content-timestamp">
                                    ${v.created_at_alt}
                                </div>
                            </div>
                        </div>
                    </div>`
        })

        gna_notifications.html(html)
    }
}

})

</script>